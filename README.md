# Fitbit Personal Health Analytics & Dashboard (V2.0)

A comprehensive local Data Engineering and Data Science pipeline to analyze, visualize, and benchmark personal health data exported from Fitbit.

**V2.0 Update:** The project has evolved into a modern hybrid architecture with a robust **Python Backend** for ETL/Analytics and a reactive **React/Redux Frontend** for visualization.

## ðŸš€ Features

### ðŸ— Architecture

- **Hybrid Stack:** Python (Pandas) for heavy data lifting + Node.js (React/Vite) for interactive UI.
- **Privacy-First:** Data stays local. The frontend consumes a generated JSON feed without sending data to the cloud.

### ðŸ“Š Data Engineering (Backend)

- **Multi-Format Ingestion:** Handles JSONs (Activity, Sleep, HR) and CSVs (HRV, SpO2, Stress).
- **Advanced Cleaning:** Auto-deduplication, timezone normalization, and future-data pruning.
- **Standardization:** Automatic conversion of Weight (Lbs â†’ Kg) and dates.

### ðŸ“ˆ Analytics & Metrics

- **Readiness Score (Z-Score):** Custom algorithm combining Sleep Quality and Resting Heart Rate deviation.
- **Metabolic Analysis:** **BMR** (Mifflin-St Jeor) vs **Active Calories** breakdown.
- **Physiology:** Tracking of **HRV** (rMSSD) and **Stress Score**.
- **Sleep Architecture:** Detailed breakdown of Deep, Light, REM, and Awake stages.

### ðŸ’» Interactive Dashboard (Frontend)

- **Modern UI:** Built with **React**, **TypeScript**, **Redux Toolkit**, and **Tailwind CSS**.
- **Synchronized Timeline:** "Mega-Chart" view where Readiness, Sleep, Energy, and Weight charts move in sync.
- **Dynamic Filtering:** Smart date presets (3M, 6M, YTD) and custom ranges.
- **Drill-Down:** Tooltips with contextual insights for every metric.

---

## ðŸ“‚ Project Structure

```text
.
â”œâ”€â”€ server/                 # BACKEND (Python ETL)
â”‚   â”œâ”€â”€ main.py             # Entry point
â”‚   â”œâ”€â”€ config.py           # User constants (Height/Age) & paths
â”‚   â”œâ”€â”€ daily_brief.py      # CLI Reporting Tool
â”‚   â”œâ”€â”€ requirements.txt    # Python dependencies
â”‚   â”œâ”€â”€ data/               # YOUR RAW FITBIT DATA (Ignored by Git)
â”‚   â””â”€â”€ modules/            # Logic (Parsers, Metrics, ETL)
â”‚
â”œâ”€â”€ client/                 # FRONTEND (React App)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ features/       # Redux Slices
â”‚   â”‚   â”œâ”€â”€ components/     # Shadcn UI & Recharts components
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ public/
â”‚       â””â”€â”€ dashboard_data.json # The feed generated by the server
â”‚
â””â”€â”€ plots/                  # Static images output (Legacy V1)
```

## ðŸ› ï¸ Prerequisites

1.  **Python 3.8+** (for Data Processing)
2.  **Node.js 18+** (for the Dashboard)

---

## ðŸ“¥ Installation

### 1. Backend Setup (Server)

```bash
cd server

# Create virtual env
python3 -m venv .venv
source .venv/bin/activate # Windows: .venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

### 2. Frontend Setup (Client)

```bash
cd client
npm install
```

---

## ðŸƒâ€â™‚ï¸ Usage Workflow

### Step 0: Configuration (First Run Only)

Open `server/config.py` and update your biometric data. This is crucial for accurate **BMR** calculations.

```python
# server/config.py
USER_HEIGHT_CM = 180
USER_AGE = 38
USER_GENDER = 'male'
```

### Step 1: Process Data (ETL)

Run this every time you add new files to `server/data/`. It cleans the data and generates the JSON feed for the frontend.

```bash
cd server
python main.py
```

_Output: `-> Dashboard JSON exported to: ../client/public/dashboard_data.json`_

### Step 2: Launch Dashboard

Start the local development server.

```bash
cd client
npm run dev
```

> Open **http://localhost:5173** in your browser.

### Step 3: Daily Briefing (CLI)

Want a quick text summary without the GUI?

```bash
cd server
python daily_brief.py
```

---

## ðŸ“Š Analytics Logic Explained

### 1. Readiness Score

A unified metric to determine if you should train hard or rest.

- **Formula:** `(Sleep Z-Score) - (RHR Z-Score)`
- **Logic:** Better sleep (+ score) and lower resting heart rate (- score inverted) result in higher readiness.
- **Interpretation:**
  - `> 1.0`: **Peak Condition** (Push hard)
  - `-1.0 to 1.0`: **Normal** (Train as usual)
  - `< -1.0`: **Recovery Needed** (Focus on rest)

### 2. Intensity Index

- **Formula:** `Active Calories / Total Active Minutes`
- **Unit:** Kcal/min
- **Meaning:** Measures the density of your workouts. Higher values mean you burned more calories per minute of movement.

### 3. Metabolic Basal Rate (BMR)

Calculated using the **Mifflin-St Jeor Equation**:
`BMR = (10 * weight) + (6.25 * height) - (5 * age) + s`

---

## ðŸ“„ License

Personal Use.
